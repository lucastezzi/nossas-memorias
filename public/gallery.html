<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nosso Amor em Imagens ‚ù§Ô∏è</title>
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Open+Sans:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    
    <div class="heart-background-container" id="heartBackgroundContainer"></div>

    <header>
        <h1>Para o Meu Amor Eterno ‚ù§Ô∏è</h1>
        <p>Quero gravar cada momento nosso juntos!</p>
        <p>Cada momento com voc√™.</p>
        <a href="slideshow.html" class="slideshow-button">Ver Apresenta√ß√£o de Slides</a>
    </header>

    <main>
       <section class="time-together-section">
    <h2>Estamos juntos h√°:</h2>
    <div id="countdown" class="countdown-display">
        <div class="countdown-segment">
            <span id="days" class="countdown-number">00</span>
            <span class="countdown-label">DIAS</span>
        </div>
        <div class="countdown-separator">:</div>
        <div class="countdown-segment">
            <span id="hours" class="countdown-number">00</span>
            <span class="countdown-label">HORAS</span>
        </div>
        <div class="countdown-separator">:</div>
        <div class="countdown-segment">
            <span id="minutes" class="countdown-number">00</span>
            <span class="countdown-label">MINUTOS</span>
        </div>
        <div class="countdown-separator">:</div>
        <div class="countdown-segment">
            <span id="seconds" class="countdown-number">00</span>
            <span class="countdown-label">SEGUNDOS</span>
        </div>
    </div>
</section>
<div class="container">
        <div class="envelope-wrapper">
            <div class="envelope">
                <div class="letter">
                    <div class="text">
                        <strong>Para a MINHA Princesa</strong>
                        <p>
                            Essa carta vai pra dona do meu sorriso mais radiante, da pessoa mais incr√≠vel do universo. Voc√™ √© pra mim o que a Sally √© pro McQueen. Agrade√ßo a Deus todos os dias por ele ter colocado voc√™ em minha vida. Eu te amo INFINITOS MUITOS, lindona.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const envelope = document.querySelector('.envelope-wrapper');
        envelope.addEventListener('click', () => {
            envelope.classList.toggle('flap');
        });
    </script>

        <section class="love-reasons-section">
            <h2>Porque Eu Te Amo ‚ù§Ô∏è</h2>
            <div class="reasons-list">
                <p>Eu te amo porque voc√™ tira meu sorriso mais genu√≠no.</p>
                <p>Eu te amo pela sua intelig√™ncia e como voc√™ me desafia.</p>
                <p>Eu te amo porque voc√™ √© incr√≠vel.</p>
                <p>Eu te amo pela forma como voc√™ me enxerga.</p>
                <p>Eu te amo pela forma como voc√™ me faz sentir especial.</p>
                <p>Eu te amo porque voc√™ √© minha primeira e √∫nica.</p>
                <p>Eu te amo por voc√™ gostar dos meus defeitos.</p>
                <p>Eu te amo pela sua alegria contagiante.</p>
                <p>Eu te amo pela forma como voc√™ come.</p>
                <p>Eu te amo pela sua delicadeza.</p>
                <p>Eu te amo pela forma como me olha.</p>
                <p>Eu te amo por estar presente em meus pensamentos.</p>
                <p>Eu te amo pela forma como voc√™ sorri.</p>
                <p>Eu te amo por completo.</p>
                <p>Eu te amo simplesmente por ser voc√™.</p>
                <p>Poderia citar infinitos motivos que me faz te amar. E a cada dia, descubro um novo motivo para te amar ainda mais.</p>
            </div>
        </section>

        <section class="coupons-section">
            <h2>Seus Vales Especiais ‚ú®</h2>
            <p>Clique no bot√£o abaixo para revelar seus cupons de amor!</p>
            <button class="open-coupons-button" id="openCouponsButton">Abrir Meus Vales!</button>
        </section>

        <section class="improvement-diary-section">
            <div class="diary-header">
                <i class="fas fa-book-heart diary-icon"></i> 
                <h2>Di√°rio de Melhorias</h2>
            </div>
            <p>Este √© um espa√ßo seguro para voc√™ registrar o que te chateou ou me decepcionou. √â importante para mim saber, para que eu possa crescer e melhorar. Quero que voc√™ tenha o melhor de mim</p>
            <form id="diaryForm">
                <div class="form-group">
                    <label for="diaryDate">Data do ocorrido:</label>
                    <input type="date" id="diaryDate" required>
                </div>
                <div class="form-group">
                    <label for="diaryEntry">O que aconteceu ou me decepcionou?</label>
                    <textarea id="diaryEntry" rows="6" placeholder="Descreva aqui o que te chateou, com detalhes, se sentir confort√°vel." required></textarea>
                </div>
                <button type="submit" class="submit-button diary-submit-button">Registrar no Di√°rio</button>
            </form>
            <p id="diaryMessage" class="hidden"></p>
            
            <div class="diary-entries-viewer">
                <h3>Minhas Anota√ß√µes para Melhorar</h3>
                <button id="viewDiaryButton" class="open-coupons-button">Ver Di√°rio (Apenas para mim)</button>
                <div id="diaryList" class="hidden">
                    <p class="no-entries-message">Nenhum registro no di√°rio ainda.</p>
                    </div>
                <button id="clearDiaryButton" class="delete-button hidden">Limpar Di√°rio (Cuidado!)</button>
            </div>
        </section>


        <section class="upload-section">
            <div class="upload-section-header">
                <img src="loopy.png" alt="Loopy Personagem" class="loopy-header-icon">
                <h2>Nova Mem√≥ria</h2>
            </div>
            
            <form id="uploadForm" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="photo">Selecione a Foto:</label>
                    <input type="file" id="photo" name="photo" accept="image/*" required>
                </div>
                <div class="form-group">
                    <label for="eventDate">Data do Evento:</label>
                    <input type="date" id="eventDate" name="eventDate" required>
                </div>
                <div class="form-group">
                    <label for="description">O que fizemos esse dia?</label>
                    <textarea id="description" name="description" rows="4" required></textarea>
                </div>
                <button type="submit" class="submit-button">Adicionar</button>
            </form>
            <p id="message" class="hidden"></p>
        </section>

        <section class="gallery-section">
            <h2>Nossas Mem√≥rias Mais Preciosas</h2>
            <div class="gallery-container" id="galleryContainer">
                <p id="loadingMessage">Carregando mem√≥rias...</p>
            </div>
        </section>
    </main>

    <footer>
        <p>Feito com todo o meu amor para voc√™, neste Dia dos Namorados! ü•∞</p>
        <p>&copy; Nosso Amor Eterno 2025</p>
    </footer>

    <div id="couponModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeCouponModal">&times;</span>
            <h2>Seus Cupons FMV (Faz Minhas Vontades) ‚ù§Ô∏è</h2>
            <p>Clique e "raspe" para revelar seu vale!</p>
            <div class="coupon-grid">
                <div class="coupon-card" data-coupon="massagem">
                    <h3>Vale Massagem Relaxante</h3>
                    <canvas class="scratch-canvas"></canvas>
                    <div class="coupon-reveal">
                        <p>Um momento de relaxamento total para o meu amor!</p>
                        <i class="fas fa-hand-sparkles"></i>
                    </div>
                </div>
                <div class="coupon-card" data-coupon="jantar">
                    <h3>Vale Jantar Rom√¢ntico</h3>
                    <canvas class="scratch-canvas"></canvas>
                    <div class="coupon-reveal">
                        <p>Uma noite deliciosa e especial, feita por mim, s√≥ para voc√™!</p>
                        <i class="fas fa-utensils"></i>
                    </div>
                </div>
                <div class="coupon-card" data-coupon="filme">
                    <h3>Vale Noite de Cinema</h3>
                    <canvas class="scratch-canvas"></canvas>
                    <div class="coupon-reveal">
                        <p>Sua escolha de filme, muitos abra√ßos e pipoca sem fim!</p>
                        <i class="fas fa-film"></i>
                    </div>
                </div>
                <div class="coupon-card" data-coupon="personalizado">
                    <h3>Vale Personalizado</h3>
                    <canvas class="scratch-canvas"></canvas>
                    <div class="coupon-reveal">
                        <p id="personalizedCouponDisplay">Raspe para revelar seu vale e escreva seu desejo!</p>
                        <textarea id="customCouponText" placeholder="Escreva seu desejo aqui!" rows="3"></textarea>
                        <button id="saveCustomCoupon">Salvar Desejo</button>
                        <i class="fas fa-heart"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // --- L√ìGICA DO CONTADOR DE TEMPO ---
        // Defina a data de in√≠cio do relacionamento: 28 de dezembro de 2024
        const startDate = new Date('2024-12-28T00:00:00'); 

        function updateCountdown() {
            const now = new Date();
            const diff = now.getTime() - startDate.getTime(); // Diferen√ßa em milissegundos

            // Calcula dias, horas, minutos, segundos
            const seconds = Math.floor((diff / 1000) % 60);
            const minutes = Math.floor((diff / (1000 * 60)) % 60);
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));

            // Formata para ter sempre dois d√≠gitos (00, 01, etc.)
            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
        }

        // Atualiza o contador a cada segundo
        setInterval(updateCountdown, 1000);

        // Atualiza uma vez imediatamente para evitar atraso inicial
        updateCountdown();
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const heartContainer = document.getElementById('heartBackgroundContainer');
        const numberOfHearts = 15; // Ajuste a quantidade de cora√ß√µes vis√≠veis simultaneamente
        const heartEmoji = '‚ù§Ô∏è'; // Caractere do cora√ß√£o

        // Cria um certo n√∫mero de cora√ß√µes inicialmente para preencher a tela
        for (let i = 0; i < numberOfHearts; i++) {
            createFallingHeart();
        }

        // Cria um novo cora√ß√£o a cada X milissegundos para um fluxo cont√≠nuo
        // O intervalo deve ser menor do que a dura√ß√£o da anima√ß√£o para garantir um fluxo constante
        setInterval(createFallingHeart, 2000); // Cria um novo cora√ß√£o a cada 2 segundos

        function createFallingHeart() {
            const heart = document.createElement('div');
            heart.classList.add('falling-heart');
            heart.textContent = heartEmoji;

            // Posi√ß√£o horizontal inicial aleat√≥ria na largura da tela
            const startPosition = Math.random() * 100; // de 0 a 100vw
            heart.style.left = `${startPosition}vw`;

            // Atraso aleat√≥rio para o in√≠cio da anima√ß√£o de cada cora√ß√£o
            const delay = Math.random() * 5; // atraso entre 0 e 5 segundos
            heart.style.animationDelay = `${delay}s`;

            // Dura√ß√£o da anima√ß√£o aleat√≥ria para velocidade de queda variada
            const duration = 15 + Math.random() * 10; // entre 15 e 25 segundos (quanto maior, mais lento)
            heart.style.animationDuration = `${duration}s`;

            // Define o valor da vari√°vel CSS para um movimento horizontal leve e aleat√≥rio
            const randomXOffset = (Math.random() - 0.5) * 100; // Desvio horizontal de at√© 50px para cada lado
            heart.style.setProperty('--random-x', randomXOffset + 'px');

            heartContainer.appendChild(heart);

            // Remove o cora√ß√£o do DOM ap√≥s a anima√ß√£o para otimizar a mem√≥ria
            heart.addEventListener('animationend', () => {
                heart.remove();
            });
        }
    });
    
    // --- L√≥gica do Modal de Cupons ---
    const openCouponsButton = document.getElementById('openCouponsButton');
    const couponModal = document.getElementById('couponModal');
    const closeCouponModal = document.getElementById('closeCouponModal');
    const couponCards = document.querySelectorAll('.coupon-card');
    const customCouponText = document.getElementById('customCouponText');
    const saveCustomCouponButton = document.getElementById('saveCustomCoupon');
    const personalizedCouponDisplay = document.getElementById('personalizedCouponDisplay');

    openCouponsButton.addEventListener('click', () => {
        couponModal.style.display = 'flex'; // Exibe o modal
        // Reinicializa a raspadinha quando o modal √© aberto
        couponCards.forEach(card => {
            const canvas = card.querySelector('.scratch-canvas');
            const ctx = canvas.getContext('2d');
            const couponReveal = card.querySelector('.coupon-reveal');
            const couponTitle = card.querySelector('h3'); // O t√≠tulo h3

            // Redefine o estado
            card.classList.remove('revealed');
            couponReveal.style.opacity = '0';
            couponReveal.style.transform = 'translateY(20px)';
            couponTitle.style.opacity = '0'; // Esconde o t√≠tulo novamente
            couponTitle.style.zIndex = '0'; // Garante que o t√≠tulo esteja abaixo do canvas

            // Desenha a cobertura na canvas
            drawScratchCover(canvas, ctx, card); // Passa o card para a fun√ß√£o

            // Reseta o vale personalizado se for o caso
            if (card.dataset.coupon === 'personalizado') {
                customCouponText.style.display = 'none';
                saveCustomCouponButton.style.display = 'none';
                personalizedCouponDisplay.textContent = 'Raspe para revelar seu vale e escreva seu desejo!';
                customCouponText.value = '';
            }
        });
    });

    closeCouponModal.addEventListener('click', () => {
        couponModal.style.display = 'none'; // Esconde o modal
    });

    // Fechar modal ao clicar fora dele
    window.addEventListener('click', (event) => {
        if (event.target == couponModal) {
            couponModal.style.display = 'none';
        }
    });

    // L√≥gica da Raspadinha
    couponCards.forEach(card => {
        const canvas = card.querySelector('.scratch-canvas');
        const ctx = canvas.getContext('2d');
        let isScratching = false;
        let revealedPercentage = 0;
        const revealThreshold = 70; // Porcentagem de raspagem para revelar

        // Garante que o canvas tenha o mesmo tamanho do pai
        function resizeCanvas() {
            canvas.width = card.offsetWidth;
            canvas.height = card.offsetHeight;
            if (!card.classList.contains('revealed')) { // Redesenha a cobertura se n√£o estiver revelado
                drawScratchCover(canvas, ctx, card); // Passa o card para obter o t√≠tulo
            }
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas(); // Chama no carregamento

        // Modificada para aceitar o card como argumento
        function drawScratchCover(canvas, ctx, currentCard) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = getComputedStyle(currentCard).getPropertyValue('--coupon-bg-closed'); // Pega a cor do CSS
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Adiciona o texto "Raspe aqui!" no canvas
            ctx.font = `bold ${canvas.width * 0.08}px 'Dancing Script', cursive`; // Tamanho responsivo
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillStyle = getComputedStyle(currentCard).getPropertyValue('--coupon-text-closed');
            ctx.fillText('Raspe aqui!', canvas.width / 2, canvas.height / 2);
        }


        function getMousePos(canvas, evt) {
            const rect = canvas.getBoundingClientRect();
            return {
                x: evt.clientX - rect.left,
                y: evt.clientY - rect.top
            };
        }

        function getTouchPos(canvas, evt) {
            const rect = canvas.getBoundingClientRect();
            return {
                x: evt.touches[0].clientX - rect.left,
                y: evt.touches[0].clientY - rect.top
            };
        }

        function calculateRevealedPercentage() {
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const pixels = imageData.data;
            let transparentPixels = 0;
            for (let i = 0; i < pixels.length; i += 4) {
                if (pixels[i + 3] < 128) { // Se o canal alfa for menor que 128 (meio transparente)
                    transparentPixels++;
                }
            }
            return (transparentPixels / (pixels.length / 4)) * 100;
        }

        function revealCoupon() {
            if (!card.classList.contains('revealed')) {
                card.classList.add('revealed');
                const couponReveal = card.querySelector('.coupon-reveal');
                const couponTitle = card.querySelector('h3'); // Pega o t√≠tulo h3

                anime({
                    targets: couponReveal,
                    opacity: [0, 1],
                    translateY: [-20, 0],
                    duration: 800,
                    easing: 'easeOutQuad'
                });
                // Anima o t√≠tulo tamb√©m
                anime({
                    targets: couponTitle,
                    opacity: [0, 1],
                    translateY: [-10, 0], // Pequeno movimento para cima
                    duration: 600,
                    easing: 'easeOutQuad',
                    delay: 200, // Um leve delay para aparecer depois do reveal
                    complete: () => {
                        couponTitle.style.zIndex = '3'; // Garante que o t√≠tulo fique vis√≠vel ap√≥s a anima√ß√£o
                    }
                });


                // L√≥gica espec√≠fica para o vale personalizado
                if (card.dataset.coupon === 'personalizado') {
                    customCouponText.style.display = 'block';
                    saveCustomCouponButton.style.display = 'block';
                    customCouponText.focus();
                } else {
                    customCouponText.style.display = 'none';
                    saveCustomCouponButton.style.display = 'none';
                }
            }
        }

        // Eventos para desktop
        canvas.addEventListener('mousedown', (e) => {
            if (card.classList.contains('revealed')) return;
            isScratching = true;
            ctx.globalCompositeOperation = 'destination-out'; // Apaga o que for desenhado
            ctx.lineWidth = 30; // Largura do "apagador"
            ctx.lineCap = 'round';
            const pos = getMousePos(canvas, e);
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
        });

        canvas.addEventListener('mousemove', (e) => {
            if (!isScratching || card.classList.contains('revealed')) return;
            const pos = getMousePos(canvas, e);
            ctx.lineTo(pos.x, pos.y);
            ctx.stroke();
            revealedPercentage = calculateRevealedPercentage();
            if (revealedPercentage > revealThreshold) {
                isScratching = false;
                ctx.clearRect(0, 0, canvas.width, canvas.height); // Limpa o canvas completamente
                revealCoupon();
            }
        });

        canvas.addEventListener('mouseup', () => {
            isScratching = false;
            // Se soltar o mouse e j√° tiver revelado o suficiente, revela o cupom
            if (revealedPercentage > revealThreshold) {
                ctx.clearRect(0, 0, canvas.width, canvas.height); // Limpa o canvas completamente
                revealCoupon();
            }
        });

        canvas.addEventListener('mouseleave', () => { // Caso o mouse saia do canvas enquanto est√° raspando
            isScratching = false;
        });

        // Eventos para mobile (touch)
        canvas.addEventListener('touchstart', (e) => {
            if (card.classList.contains('revealed')) return;
            isScratching = true;
            ctx.globalCompositeOperation = 'destination-out';
            ctx.lineWidth = 40; // Um pouco maior para toque
            ctx.lineCap = 'round';
            const pos = getTouchPos(canvas, e);
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
            e.preventDefault(); // Evita scroll da p√°gina
        });

        canvas.addEventListener('touchmove', (e) => {
            if (!isScratching || card.classList.contains('revealed')) return;
            const pos = getTouchPos(canvas, e);
            ctx.lineTo(pos.x, pos.y);
            ctx.stroke();
            revealedPercentage = calculateRevealedPercentage();
            if (revealedPercentage > revealThreshold) {
                isScratching = false;
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                revealCoupon();
            }
            e.preventDefault(); // Evita scroll da p√°gina
        });

        canvas.addEventListener('touchend', () => {
            isScratching = false;
            if (revealedPercentage > revealThreshold) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                revealCoupon();
            }
        });
    });

    saveCustomCouponButton.addEventListener('click', () => {
        const text = customCouponText.value.trim();
        if (text) {
            personalizedCouponDisplay.textContent = `Seu desejo: "${text}"! Guardado com carinho! ‚ù§Ô∏è`;
            alert(`Seu vale personalizado foi salvo: "${text}"!`);
            // Voc√™ pode esconder a textarea e o bot√£o novamente se quiser
            customCouponText.style.display = 'none';
            saveCustomCouponButton.style.display = 'none';
        } else {
            alert('Por favor, escreva seu desejo antes de salvar!');
        }
    });

    // --- L√≥gica do Di√°rio de Melhorias ---
    const diaryForm = document.getElementById('diaryForm');
    const diaryDateInput = document.getElementById('diaryDate');
    const diaryEntryTextarea = document.getElementById('diaryEntry');
    const diaryMessageElement = document.getElementById('diaryMessage');
    const viewDiaryButton = document.getElementById('viewDiaryButton');
    const diaryListContainer = document.getElementById('diaryList');
    const clearDiaryButton = document.getElementById('clearDiaryButton');
    const noEntriesMessage = document.querySelector('.no-entries-message');

    // Carregar entradas do di√°rio ao iniciar
    function loadDiaryEntries() {
        const entries = JSON.parse(localStorage.getItem('improvementDiary')) || [];
        diaryListContainer.innerHTML = ''; // Limpa antes de carregar

        if (entries.length === 0) {
            noEntriesMessage.style.display = 'block'; // Mostra mensagem se n√£o houver entradas
            clearDiaryButton.classList.add('hidden'); // Esconde o bot√£o de limpar
        } else {
            noEntriesMessage.style.display = 'none'; // Esconde a mensagem
            clearDiaryButton.classList.remove('hidden'); // Mostra o bot√£o de limpar
            
            // Ordena as entradas da mais recente para a mais antiga
            entries.sort((a, b) => new Date(b.date) - new Date(a.date));

            entries.forEach(entry => {
                const entryDiv = document.createElement('div');
                entryDiv.classList.add('diary-entry-item');
                entryDiv.innerHTML = `
                    <p class="diary-item-date">${new Date(entry.date).toLocaleDateString('pt-BR')}</p>
                    <p class="diary-item-text">${entry.text}</p>
                `;
                diaryListContainer.appendChild(entryDiv);
            });
        }
    }

    // Exibir mensagem de sucesso/erro para o di√°rio
    function showDiaryMessage(msg, type = 'success') {
        diaryMessageElement.textContent = msg;
        diaryMessageElement.className = ''; // Limpa classes anteriores
        diaryMessageElement.classList.add(type);
        diaryMessageElement.classList.remove('hidden');
        setTimeout(() => {
            diaryMessageElement.classList.add('hidden');
        }, 5000); // Esconde a mensagem ap√≥s 5 segundos
    }

    // Evento de envio do formul√°rio do di√°rio
    diaryForm.addEventListener('submit', (e) => {
        e.preventDefault();

        const date = diaryDateInput.value;
        const entryText = diaryEntryTextarea.value.trim();

        if (!date || !entryText) {
            showDiaryMessage('Por favor, preencha a data e o que aconteceu.', 'error');
            return;
        }

        const newEntry = { date, text: entryText };
        let entries = JSON.parse(localStorage.getItem('improvementDiary')) || [];
        entries.push(newEntry);
        localStorage.setItem('improvementDiary', JSON.stringify(entries));

        showDiaryMessage('Registro adicionado ao di√°rio com sucesso!', 'success');
        diaryForm.reset(); // Limpa o formul√°rio
        // N√£o recarrega as entradas aqui, pois o di√°rio estar√° oculto para ela
    });

    // Evento para o bot√£o "Ver Di√°rio" (apenas para voc√™)
    viewDiaryButton.addEventListener('click', () => {
        if (diaryListContainer.classList.contains('hidden')) {
            loadDiaryEntries(); // Carrega as entradas apenas quando o bot√£o √© clicado
            diaryListContainer.classList.remove('hidden');
            viewDiaryButton.textContent = 'Esconder Di√°rio';
        } else {
            diaryListContainer.classList.add('hidden');
            viewDiaryButton.textContent = 'Ver Di√°rio (Apenas para mim)';
        }
    });

    // Evento para o bot√£o "Limpar Di√°rio"
    clearDiaryButton.addEventListener('click', () => {
        if (confirm('Tem certeza que deseja limpar todo o di√°rio? Esta a√ß√£o √© irrevers√≠vel!')) {
            localStorage.removeItem('improvementDiary');
            loadDiaryEntries(); // Recarrega para mostrar que est√° vazio
            showDiaryMessage('Di√°rio limpo com sucesso!', 'success');
        }
    });

    // Inicializa a data do di√°rio com a data atual por padr√£o (opcional)
    diaryDateInput.valueAsDate = new Date();

</script>
</body>
</html>