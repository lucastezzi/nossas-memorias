<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uma Surpresa Especial para Voc√™! ‚ù§Ô∏è</title>
    
    <link rel="stylesheet" href="style.css"> 
    
    <link rel="manifest" href="manifest.json">
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400&display=swap" rel="stylesheet">

    <style>
        /* CSS para as anima√ß√µes de flores */
        @keyframes floatDownFlower {
            0% {
                transform: translateY(-100vh) scale(0.8);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                transform: translateY(0) scale(1);
                opacity: 0;
            }
        }

        .animated-flower {
            position: absolute;
            top: 0;
            width: 60px;
            height: auto;
            animation-name: floatDownFlower;
            animation-timing-function: ease-in;
            animation-fill-mode: forwards;
            pointer-events: none;
            z-index: 999;
        }

        .rose-animation-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            display: none;
        }

        .overflow-hidden {
            overflow: hidden;
        }

        /* Estilo do modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative;
            max-width: 500px;
            text-align: center;
            font-family: 'Montserrat', sans-serif;
        }

        .modal-content h2 {
            font-family: 'Dancing Script', cursive;
            color: #d1305f;
            font-size: 2.2em;
            margin-bottom: 15px;
        }

        .modal-content p {
            font-size: 1.1em;
            line-height: 1.6;
            color: #333;
        }

        .close-button {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 15px;
            cursor: pointer;
        }

        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* --- ESTILOS DO QUIZ DE RELACIONAMENTO (IN√çCIO) --- */
        .quiz-section {
            background-color: var(--card-bg); /* Assume que var(--card-bg) est√° definida no style.css ou aqui. Se n√£o estiver, defina-a. */
            padding: 40px;
            margin: 40px auto;
            max-width: 800px;
            border-radius: var(--border-radius); /* Assume que var(--border-radius) est√° definida. */
            box-shadow: var(--shadow); /* Assume que var(--shadow) est√° definida. */
            border: 1px solid #eee;
            text-align: center;
        }

        .quiz-section-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
        }

        .quiz-header-icon {
            width: 60px; /* Reduzindo de 100px para 60px para melhor propor√ß√£o */
            height: auto;
            margin-right: 15px;
        }

        .quiz-section h2 {
            font-family: 'Dancing Script', cursive;
            color: var(--primary-color); /* Assume que var(--primary-color) est√° definida. */
            font-size: 3em;
            margin-bottom: 0;
        }

        .quiz-intro {
            font-size: 1.1em;
            color: var(--text-color); /* Assume que var(--text-color) est√° definida. */
            margin-bottom: 30px;
            font-weight: 300;
        }

        .quiz-container {
            text-align: left;
            margin-bottom: 30px;
        }

        .quiz-question {
            background-color: var(--bg-light); /* Assume que var(--bg-light) est√° definida. */
            padding: 25px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
            border: 1px solid #f0f0f0;
        }

        .quiz-question p {
            font-size: 1.2em;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 15px;
        }

        .quiz-options label {
            display: block;
            background-color: #fcfcfc;
            padding: 12px 18px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            border: 1px solid #eee;
            font-size: 1em;
            color: var(--text-color);
            display: flex;
            align-items: center;
        }

        .quiz-options label:hover {
            background-color: #f0f0f0;
            border-color: var(--secondary-color); /* Assume que var(--secondary-color) est√° definida. */
        }

        .quiz-options input[type="radio"] {
            margin-right: 12px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid var(--primary-color);
            border-radius: 50%;
            outline: none;
            cursor: pointer;
            position: relative;
        }

        .quiz-options input[type="radio"]:checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .quiz-options input[type="radio"]:checked::before {
            content: '';
            display: block;
            width: 10px;
            height: 10px;
            background-color: white;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Feedback visual para respostas (adicionados spans no JS para isso) */
        .quiz-options label.correct-option {
            background-color: #e6ffe6; /* Verde claro */
            border-color: #2e8b57; /* Verde escuro */
            box-shadow: 0 0 5px #2e8b57;
        }

        .quiz-options label.incorrect-option {
            background-color: #ffe6e6; /* Vermelho claro */
            border-color: #b22222; /* Vermelho escuro */
            box-shadow: 0 0 5px #b22222;
        }

        .submit-quiz-button {
            background-color: var(--accent-color); /* Assume que var(--accent-color) est√° definida. */
            color: var(--light-text-color); /* Assume que var(--light-text-color) est√° definida. */
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.3em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--transition), transform 0.2s ease, box-shadow var(--transition);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        .submit-quiz-button:hover {
            background-color: #e06054;
            transform: translateY(-2px);
        }

        .quiz-result {
            margin-top: 40px;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            background-color: var(--bg-light);
            border: 1px solid #eee;
        }

        .quiz-result h3 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5em;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .quiz-result p {
            font-size: 1.1em;
            color: var(--text-color);
            margin-bottom: 10px;
        }

        .quiz-result .score-message {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--accent-color);
            margin-top: 20px;
        }

        .quiz-result .score-message.perfect {
            color: #1DB954; /* Verde Spotify */
            font-size: 1.4em;
            animation: bounceIn 0.8s;
        }

        .quiz-result .score-message.error {
            color: var(--accent-color);
            font-size: 1.2em;
        }

        /* Mensagem de Carregamento para o Quiz */
        .loading-quiz {
            text-align: center;
            font-style: italic;
            color: #777;
            padding: 20px;
        }

        /* Anima√ß√£o para o resultado perfeito (opcional) */
        @keyframes bounceIn {
            0%, 20%, 40%, 60%, 80%, 100% {
                transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
            }
            0% {
                opacity: 0;
                transform: scale3d(0.3, 0.3, 0.3);
            }
            20% {
                transform: scale3d(1.1, 1.1, 1.1);
            }
            40% {
                transform: scale3d(0.9, 0.9, 0.9);
            }
            60% {
                opacity: 1;
                transform: scale3d(1.03, 1.03, 1.03);
            }
            80% {
                transform: scale3d(0.97, 0.97, 0.97);
            }
            100% {
                opacity: 1;
                transform: scale3d(1, 1, 1);
            }
        }

        /* Classe para esconder/mostrar elementos */
        .hidden {
            display: none;
        }

        /* Responsividade para o Quiz */
        @media (max-width: 768px) {
            .quiz-section {
                padding: 30px;
                margin: 30px auto;
            }
            .quiz-section h2 {
                font-size: 2.5em;
            }
            .quiz-intro {
                font-size: 1em;
            }
            .quiz-question p {
                font-size: 1.1em;
            }
            .quiz-options label {
                padding: 10px 15px;
                font-size: 0.95em;
            }
            .submit-quiz-button {
                font-size: 1.2em;
                padding: 12px 25px;
            }
            .quiz-result h3 {
                font-size: 2em;
            }
        }

        @media (max-width: 480px) {
            .quiz-section {
                padding: 20px;
                margin: 20px auto;
            }
            .quiz-section h2 {
                font-size: 2em;
            }
            .quiz-header-icon {
                width: 50px; /* Ajustado de volta para 50px em telas pequenas */
            }
            .quiz-question p {
                font-size: 1em;
            }
            .quiz-options label {
                padding: 8px 12px;
                font-size: 0.9em;
            }
            .quiz-options input[type="radio"] {
                width: 18px;
                height: 18px;
            }
            .quiz-options input[type="radio"]:checked::before {
                width: 9px;
                height: 9px;
            }
            .submit-quiz-button {
                font-size: 1em;
                padding: 10px 20px;
            }
            .quiz-result h3 {
                font-size: 1.8em;
            }
            .quiz-result p {
                font-size: 0.95em;
            }
            .quiz-result .score-message {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body class="landing-page-body">
    <img src="png-transparent-the-little-prince-drawing-child-sticker-text-little-prince-boy-and-fox-illustration-photography-hand-people-removebg-preview.png" alt="Raposa na Lua" class="raposinha-na-lua">

    <div class="landing-container" id="landingContainer">
        <h1>Para o meu amor...</h1>
        <p>Preparei uma pequena surpresa para n√≥s neste Dia dos Namorados.</p>
        <button id="surpriseButton" class="surprise-button">Clique aqui para a surpresa!</button>
    </div>

    <section class="quiz-section hidden" id="quizSection">
        <div class="quiz-section-header">
            <img src="loopy.png" alt="Loopy Personagem" class="quiz-header-icon"> <h2>Voc√™ conhece a gente mais que eu? ‚ù§Ô∏è</h2>
        </div>
        <p class="quiz-intro">Vamos ver o quanto voc√™ lembra dos nossos momentos e detalhes especiais! Voc√™ precisa acertar tudo para desbloquear a pr√≥xima surpresa!</p>

        <div id="quizContainer" class="quiz-container">
            <p id="quizLoading" class="loading-quiz">Carregando nosso quiz de amor...</p>
        </div>

        <button id="submitQuiz" class="submit-quiz-button hidden">Ver Resultado</button>
        <div id="quizResult" class="quiz-result hidden"></div>
    </section>

    <div class="rose-animation-container" id="roseAnimationContainer"></div>

    <div id="loveMessageModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modalDate"></h2>
            <p id="modalMessage"></p>
        </div>
    </div>

    <script>
        
        // --- MENSAGENS DE AMOR ---
        const loveMessages = [
            { date: "06-05", message: "Hoje √© o dia de lan√ßamento do nosso cantinho especial! Que este seja o primeiro de muitos Dias dos Namorados que passaremos juntos, criando mem√≥rias lindas. Eu te amo muito, meu amor! ‚ù§Ô∏è" },
            { date: "06-12", message: "Feliz Dia dos Namorados, MINHA Princesa! Nosso primeiro dia juntinhos nessa data t√£o especial, t√£o especial quanto voc√™. Que esse seja o primeiro de v√°rios que vir√£o. Pe√ßo todo dia que seja com voc√™, quero voc√™ pra vida toda todinha. Eu te amo um MUIT√ÉO MINHA Princesa! S2" },
            { date: "12-28", message: "Bom dia, meu raio de sol! Fazemos 6 meses juntos hoje! Foi o dia em que eu tomei a melhor decis√£o da minha vida. Voc√™ fez com que um dia comum no meu calend√°rio se tornasse uma das datas mais especiais da minha vida. Eu te Amo INFINITOS, se eu tivesse mil vidas, te escolheria em todas elas! S2" },
            // ADICIONE MAIS MENSAGENS AQUI NO FORMATO { date: "MM-DD", message: "Sua mensagem aqui." }
            // O MESMO DIA PODE TER APENAS UMA MENSAGEM.
        ];

        // --- L√ìGICA DO POP-UP DE MENSAGEM DE AMOR ---
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById("loveMessageModal");
            const span = document.getElementsByClassName("close-button")[0];
            const modalDateElement = document.getElementById("modalDate");
            const modalMessageElement = document.getElementById("modalMessage");

            const today = new Date();
            const currentMonthDay = `${(today.getMonth() + 1).toString().padStart(2, '0')}-${today.getDate().toString().padStart(2, '0')}`;

            const messageForToday = loveMessages.find(msg => msg.date === currentMonthDay);

            if (messageForToday) {
                modalDateElement.textContent = `Mensagem para ${today.toLocaleDateString('pt-BR', { day: 'numeric', month: 'long' })}`;
                modalMessageElement.textContent = messageForToday.message;
                modal.style.display = "flex";
            }

            span.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        });

        // --- L√ìGICA DO BOT√ÉO DA SURPRESA E ANIMA√á√ÉO DE FLORES (TULIPAS) ---
        document.getElementById('surpriseButton').addEventListener('click', function() {
            const landingContainer = document.getElementById('landingContainer');
            const quizSection = document.getElementById('quizSection');

            landingContainer.classList.add('hidden');
            quizSection.classList.remove('hidden');

            buildQuiz();
        });

        // --- L√ìGICA DO QUIZ DE RELACIONAMENTO ---
        const quizContainer = document.getElementById('quizContainer');
        const submitQuizButton = document.getElementById('submitQuiz');
        const quizResult = document.getElementById('quizResult');
        const quizLoading = document.getElementById('quizLoading');

        const quizQuestions = [
            {
                question: "Qual foi o tamanho da primeira alian√ßa que te dei?",
                options: ["14", "13", "15", "12"],
                answer: "14"
            },
            {
                question: "Qual foi o primeiro dia em que trocamos mensagem?",
                options: ["19 de Agosto", "02 de Setembro", "01 de Setembro", "18 de Agosto"],
                answer: "19 de Agosto"
            },
            {
                question: "Primeira vez em que sa√≠mos fora da escola?",
                options: ["25 de Outubro", "20 de Setembro", "18 de Outubro", "02 de Novembro"],
                answer: "25 de Outubro"
            },
            {
                question: "Meu desenho favorito?",
                options: ["Gumball", "Hora de Aventura", "Apenas um Show", "Bob Esponja"],
                answer: "Gumball"
            },
            {
                question: "Minha data de anivers√°rio (acerte dessa vez b√™)",
                options: ["06 de Janeiro", "2 de Janeiro", "1 de Janeiro", "31 de Dezembro"],
                answer: "31 de Dezembro"
            }
        ];

        function buildQuiz() {
            quizLoading.style.display = 'none';
            const output = [];

            quizQuestions.forEach((currentQuestion, questionNumber) => {
                const options = [];
                const shuffledOptions = [...currentQuestion.options].sort(() => Math.random() - 0.5);

                shuffledOptions.forEach((option) => {
                    options.push(
                        `<label>
                            <input type="radio" name="question${questionNumber}" value="${option}" required>
                            <span>${option}</span>
                        </label>`
                    );
                });

                output.push(
                    `<div class="quiz-question">
                        <p>${currentQuestion.question}</p>
                        <div class="quiz-options">${options.join('')}</div>
                    </div>`
                );
            });

            quizContainer.innerHTML = output.join('');
            submitQuizButton.classList.remove('hidden');
            submitQuizButton.textContent = 'Ver Resultado';
            submitQuizButton.disabled = false;
            quizResult.classList.add('hidden');
        }

        function showResults() {
            const answerContainers = quizContainer.querySelectorAll('.quiz-options');
            let numCorrect = 0;
            let allAnswered = true;

            quizQuestions.forEach((currentQuestion, questionNumber) => {
                const answerContainer = answerContainers[questionNumber];
                const selector = `input[name=question${questionNumber}]:checked`;
                const userAnswer = (answerContainer.querySelector(selector) || {}).value;

                answerContainer.querySelectorAll('label').forEach(label => {
                    label.classList.remove('correct-option', 'incorrect-option');
                });

                if (userAnswer === currentQuestion.answer) {
                    numCorrect++;
                    const correctLabel = answerContainer.querySelector(`input[value="${currentQuestion.answer}"]`).closest('label');
                    correctLabel.classList.add('correct-option');
                } else {
                    if (userAnswer) {
                        const incorrectLabel = answerContainer.querySelector(`input[value="${userAnswer}"]`).closest('label');
                        incorrectLabel.classList.add('incorrect-option');
                    }
                    const correctLabel = answerContainer.querySelector(`input[value="${currentQuestion.answer}"]`).closest('label');
                    correctLabel.classList.add('correct-option');
                    allAnswered = false;
                }

                if (!userAnswer) {
                    allAnswered = false;
                }
            });

            quizResult.classList.remove('hidden');

            if (numCorrect === quizQuestions.length && allAnswered) {
                quizResult.innerHTML = `
                    <h3>Parab√©ns, meu amor! üéâ</h3>
                    <p class="score-message perfect">Voc√™ acertou todas as ${quizQuestions.length} perguntas! üíñ</p>
                    <p>Voc√™ realmente me conhece muito bem! Prepare-se para a pr√≥xima surpresa...</p>
                `;
                animateFlowersAndRedirect();
                submitQuizButton.classList.add('hidden');
            } else {
                let message = '';
                if (!allAnswered) {
                    message = `Ah n√£o b√™, fiquei muito triste agora, olha pra mim pra voc√™ ver...`;
                } else {
                    message = `Voc√™ acertou ${numCorrect} de ${quizQuestions.length} algumas, mas queria que tivesse acertado todas...`;
                }

                quizResult.innerHTML = `
                    <h3>Continue Tentando, Meu Amor!</h3>
                    <p class="score-message error">${message}</p>
                `;
                submitQuizButton.textContent = 'Tentar Novamente';
                answerContainers.forEach(container => {
                    container.classList.remove('correct', 'incorrect');
                    const radios = container.querySelectorAll('input[type="radio"]');
                    radios.forEach(radio => radio.checked = false);
                });
            }
        }

        function animateFlowersAndRedirect() {
            const roseContainer = document.getElementById('roseAnimationContainer');
            roseContainer.innerHTML = '';
            roseContainer.style.display = 'block';
            document.body.classList.add('overflow-hidden');

            const numberOfFlowers = 20;
            const baseDuration = 5;
            const durationVariation = 3;

            for (let i = 0; i < numberOfFlowers; i++) {
                const flower = document.createElement('img');
                flower.src = 'tulipa-removebg-preview.png';
                flower.classList.add('animated-flower');

                const offset = (Math.random() - 0.5) * 50;
                const positionX = (i / numberOfFlowers) * 100 + offset / window.innerWidth * 100;
                flower.style.left = `${positionX}vw`;

                flower.style.animationDuration = (baseDuration + Math.random() * durationVariation) + 's';
                flower.style.animationDelay = (Math.random() * 4) + 's';

                roseContainer.appendChild(flower);
            }

            setTimeout(() => {
                window.location.href = 'gallery.html';
            }, 2000);
        }

        submitQuizButton.addEventListener('click', showResults);


        
    </script>
</body>
</html>